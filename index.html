<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Factorio Blueprints Decoder/Encoder</title>
<link rel="icon" href="https://i.ibb.co/Hp44999c/blueprint-book.png" type="image/png">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/theme/material-darker.min.css">
<link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="language-widget">
    <button id="languageToggle" class="language-toggle" type="button">Русский</button>
    <div id="languageMenu" class="language-menu hidden">
      <div id="languageOptions" class="language-options"></div>
    </div>
  </div>

  <div class="container">
    <div class="header">
      <div class="header-logo">
       <img src="https://i.ibb.co/Hp44999c/blueprint-book.png" class="header-icon" alt="logo" />
        <h1>FACTORIO BLUEPRINT DECODER</h1>
      </div>
      <div>
        <a href="https://github.com/FCTostin-team" target="_blank" class="version-button" rel="noreferrer">
          <span class="factorio-tooltip">
            V3.8
            <span class="tooltip-text">FCT-team edition</span>
          </span>
        </a>
      </div>
    </div>

    <div class="blueprint-panel">
      <div class="panel-header">
        <h3 class="panel-title" data-i18n="historyTitle">История</h3>
      </div>
      <div class="history-container">
        <div id="historyItems" class="history-items"></div>
        <button id="clearHistoryBtn" class="button-danger" data-i18n="clear">Очистить</button>
      </div>
    </div>

    <div class="blueprint-panel">
      <div class="panel-header">
        <h3 class="panel-title" data-i18n="blueprintStringTitle">Строка чертежа</h3>
      </div>
      <textarea id="blueprintInput" data-i18n-placeholder="blueprintPlaceholder" placeholder="Вставьте строку чертежа...">0eJyrVkrKKU0tKMrMK4lPys/PVrKqRogUK1lFx+ooZZak5ipZIYR1wQp1lHISk1JzgBIXFl3YerHxYtOFfRc2XdhwsV/hwq4Ley/suLD5wgagqpTU4uSizIKSzPw8kNp5F/Zf2HGx8cIGsJKtQAWJySWZZanxmXkpqRVKVgY6SmWpRcVg1aZmRpYmlpZAytjS2My4thYAsPtKcw==</textarea>
      <div class="button-group">
        <button id="decodeBtn" class="button-primary" data-i18n="decode">Decode</button>
        <button id="clearBlueprintBtn" class="button-danger" data-i18n="delete">Удалить</button>
      </div>
    </div>

    <div class="blueprint-panel">
      <div class="panel-header">
        <h3 class="panel-title" data-i18n="jsonEditorTitle">JSON редактор</h3>
      </div>
      <div class="search-container">
        <input type="text" id="searchInput" class="search-input" data-i18n-placeholder="searchPlaceholder" placeholder="Поиск в JSON...">
        <button id="searchBtn" data-i18n="find">Найти</button>
        <button id="findNextBtn" data-i18n="next">Следующий</button>
        <button id="findPrevBtn" data-i18n="prev">Предыдущий</button>
        <button id="toggleReplaceBtn" data-i18n="replace">Заменить</button>
      </div>

      <div id="replaceContainer" class="replace-container">
          <div class="replace-fields">
              <input type="text" id="replaceInput" data-i18n-placeholder="replaceFromPlaceholder" placeholder="Текст для замены...">
              <input type="text" id="replaceWithInput" data-i18n-placeholder="replaceToPlaceholder" placeholder="Заменить на...">
          </div>
          <button id="replaceAllBtn" class="button-primary" data-i18n="replaceAll">Заменить все</button>
      </div>

      <div id="jsonEditorContainer" class="json-editor-container"></div>

      <button id="encodeBtn" class="button-primary" data-i18n="encode">Encode</button>
    </div>

    <div class="blueprint-panel">
      <div class="panel-header">
        <h3 class="panel-title">Encoded Blueprint</h3>
      </div>
      <textarea id="encodedOutput" readonly></textarea>
      <div class="button-group">
        <button id="copyEncodedBtn" data-i18n="copy">Скопировать</button>
      </div>
    </div>

    <div class="footer">
      <div class="footer-links">
        <p><a href="https://www.youtube.com/@FCT-Ostin" target="_blank" rel="noreferrer">YouTube</a></p>
        <p><a href="https://t.me/FCTostin" target="_blank" rel="noreferrer">Telegram</a></p>
        <p><a href="https://steamcommunity.com/groups/FCTgroup" target="_blank" rel="noreferrer">Steam Group</a></p>
        <p><a href="https://www.patreon.com/c/OstinFCT" target="_blank" rel="noreferrer">Patreon</a></p>
        <p><a href="https://boosty.to/ostinfct" target="_blank" rel="noreferrer">Boosty</a></p>
      </div>
      <div class="footer-links">
        <p data-i18n-html="steamGuideHtml">Руководство Steam: <a href="https://steamcommunity.com/sharedfiles/filedetails/?id=3478429132" target="_blank" rel="noreferrer">Декодер/Енкодер чертежа</a></p>
        <p data-i18n="supportText">Создано при поддержке Телеграм сообщества FCTostin</p>
      </div>
    </div>
  </div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/pako/2.1.0/pako.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/javascript/javascript.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/addon/edit/matchbrackets.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/addon/edit/closebrackets.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/addon/search/searchcursor.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/addon/search/matchesonscrollbar.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/addon/search/match-highlighter.min.js"></script>
<script src="profiles/ru.js"></script>
<script src="profiles/en.js"></script>
<script src="profiles/uk.js"></script>
<script src="profiles/kk.js"></script>
<script src="profiles/cs.js"></script>
<script src="profiles/nl.js"></script>
<script src="profiles/sv.js"></script>
<script src="profiles/de.js"></script>
<script src="profiles/pl.js"></script>
<script src="profiles/fr.js"></script>
<script src="profiles/zh.js"></script>
<script src="profiles/ja.js"></script>
<script src="script.js"></script>
</body>
</html>
